/////////////////////////////////////////////////////////////
/////////////////// PHONG MATERIAL BEGIN ////////////////////
/////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////
/////////////////////// DECLARATION /////////////////////////
/////////////////////////////////////////////////////////////
struct Material {
    vec3 diffuseColor;
    int diffuseUseTexture;
    sampler2D diffuseMap;
    
    vec3 specularColor;
    int specularUseTexture;
    sampler2D specularMap;

    int normalUseTexture;
    sampler2D normalMap;
    
    float shininess;
};

struct FragmentMaterial {
    vec3 diffuse;
    vec3 specular;
    vec3 normal;
    float shininess;
};

FragmentMaterial getFragmentMaterial(vec2 texCoord, vec3 normal);

/////////////////////////////////////////////////////////////
//////////////////////// UNIFORMS ///////////////////////////
/////////////////////////////////////////////////////////////
uniform Material u_material;

/////////////////////////////////////////////////////////////
////////////////////////// MAIN /////////////////////////////
/////////////////////////////////////////////////////////////
FragmentMaterial getFragmentMaterial(vec2 texCoord, vec3 normal) {
    vec3 fragDiffuse = u_material.diffuseColor;
    if (u_material.diffuseUseTexture > 0) {
        fragDiffuse = texture(u_material.diffuseMap, texCoord).rgb;
    }

    vec3 fragSpecular = u_material.specularColor;
    if (u_material.specularUseTexture > 0) {
        fragSpecular = texture(u_material.specularMap, texCoord).rgb;
    }

    return FragmentMaterial(fragDiffuse, fragSpecular, normal, u_material.shininess);
}

/////////////////////////////////////////////////////////////
//////////////////// PHONG MATERIAL END /////////////////////
/////////////////////////////////////////////////////////////
